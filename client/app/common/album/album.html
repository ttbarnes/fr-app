<section class="album">

  <div ng-if="vm.layout === '1'">

    <div class="col-50-md col-first">

      <div class="copy mobile-only">
        <ng-transclude></ng-transclude>
      </div>

      <img ng-src="{{vm.data.images.thumb}}"
           alt="{{vm.data.title}}"/>

    </div>

    <div class="col-50-md col-last">

      <div class="copy desktop-only">
        <ng-transclude></ng-transclude>
      </div>

      <ul ng-if="vm.data.urls" class="download-links">
        <li ng-if="vm.data.urls.itunes" class="itunes">
          <a ng-href="{{vm.data.urls.itunes}}" target="_blank">
            <img src="./images/badges/itunes.svg" alt="Get it on iTunes" />
          </a>
        </li>
        <li ng-if="vm.data.urls.google" class="google">
          <a ng-href="{{vm.data.urls.google}}" target="_blank">
            <img src="./images/badges/google.svg" alt="Get it on Google Play" />
          </a>
        </li>
        <li ng-if="vm.data.urls.amazon" class="amazon">
          <a ng-href="{{vm.data.urls.amazon}}" target="_blank">
            <img src="./images/badges/amazon.png" alt="Get it on Amazon" />
          </a>
        </li>
      </ul>

    </div>

  </div>

  <div ng-if="vm.layout === '2'">

    <div class="col-50-md col-first">

      <h2 class="mobile-only">{{vm.data.name}}</h2>

      <img ng-src="{{vm.data.images.thumb}}"
           alt="{{vm.data.title}}"/>

      <div class="row row-plangular" ng-show="vm.data.soundcloud.setUrl">

        <div plangular="{{vm.data.soundcloud.setUrl}}" class="plangular">

          <nav>
            <div class="col-buttons">

              <button ng-click="previous()"
                      class="col-1-3rd previous">
                <i class="icon-next"></i>
              </button>

              <button ng-click="playPause(index)"
                      class="col-1-3rd play-pause">
                <i ng-if="player.playing" class="icon-pause"></i>
                <i ng-if="!player.playing" class="icon-play"></i>
              </button>

              <button ng-click="next()"
                      class="col-1-3rd next">
                <i class="icon-next"></i>
              </button>

            </div>

            <div class="col-progress">
              <p class="current-time align-right">
                <span  ng-if="currentTime">{{ currentTime | hhmmss }}/{{ duration | hhmmss }}</span>
              </p>
              <progress class="progress"
                        ng-click="seek($event)"
                        ng-value="currentTime / duration || 0"></progress>
            </div>
          </nav>

          <ul class="row">
            <li ng-repeat="track in tracks"
                ng-click="playPause($index)"
                ng-class="{active: player.playing === track.src,
                           last: $last}">
              <h3 class="col-80">{{track.title}}</h3>
              <p class="col-20 align-right">{{track.duration / 1000 | hhmmss }}</p>
            </li>
          </ul>
        </div>

      </div>

    </div>

    <div class="col-50-md col-last">

      <h2 class="desktop-only">{{vm.data.name}}</h2>

      <p ng-if="vm.data.comingSoon" class="coming-soon">Coming soon</p>

      <ul ng-if="vm.data.urls" class="row download-links">
        <li ng-if="vm.data.urls.itunes" class="itunes">
          <a ng-href="{{vm.data.urls.itunes}}" target="_blank">
            <img src="./images/badges/itunes.svg" alt="Get it on iTunes" />
          </a>
        </li>
        <li ng-if="vm.data.urls.google" class="google">
          <a ng-href="{{vm.data.urls.google}}" target="_blank">
            <img src="./images/badges/google.svg" alt="Get it on Google Play" />
          </a>
        </li>
        <li ng-if="vm.data.urls.amazon" class="amazon">
          <a ng-href="{{vm.data.urls.amazon}}" target="_blank">
            <img src="./images/badges/amazon.png" alt="Get it on Amazon" />
          </a>
        </li>
      </ul>

      <div ng-bind-html="vm.data.writtenBy" class="written-by"></div>

      <div ng-if="vm.data.id === 1" class="row quotes">
        <ul>
          <li ng-repeat="quote in vm.data.quotes">

            <blockquote class="album">
              <span class="copy"><span class="quote">&ldquo;</span><span class="inner" ng-bind-html="quote.copy"></span><span class="quote">&rdquo;</span></span>
              <span class="author" ng-bind-html="quote.author"></span>
            </blockquote>

          </li>
        </ul>
      </div>

    </div>

    <!-- latest album specific -->
    <div ng-if="vm.data.id === 2" class="row">

      <p class="align-center video-wrapper-title">Behind the scenes</p>
      <div class="video-wrapper">
        <iframe width="560" src="https://www.youtube.com/embed/PzOWVOAEOX0?rel=0&amp;fs=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
      </div>


      <div class="row quotes latest-album-quotes">

        <p class="align-center">Reviews</p>

        <ul>
          <li ng-repeat="quote in vm.data.quotes">

            <blockquote class="album link-highlight-hover-border">
              <span class="copy">
                <span class="quote">&ldquo;</span>
                <span class="inner" ng-bind-html="quote.copy | filterCharacters:800"></span>
                <span class="quote">&rdquo;</span>
              </span>
              <span ng-if="!quote.showReadMore"
                    class="author"
                    ng-bind-html="quote.author"></span>
              <a ng-if="quote.showReadMore"
                 ui-sref="musicAlbumReviews({id: vm.data.id, '#': quote.href})"
                 target="_self"
                 class="read-full">Read full review by {{quote.author}}</a>
            </blockquote>

          </li>
        </ul>
      </div>

    </div>

  </div>

</section>