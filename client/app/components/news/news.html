<section class="row news-home long-copy-line-height">
  <div class="main-content">

    <h2 class="sr-only">Fiona Ross News</h2>

    <ul>
      <li ng-repeat="post in vm.data" ng-class="{last: $last}">
        <h3>{{post.title}}</h3>
        <small class="date">{{post.createdAt | date:'dd MMM yyyy'}}</small>

        <ul ng-if="post.articleSections">
          <li ng-repeat="section in post.articleSections" ng-class="{last: $last, first: $first}" class="article-section">

            <div ng-if="section.imgUrl" ng-class="{'col-left-align': section.leftColImage}">
              <div ng-class="{'col-copy': !section.videoEmbed}">

                <div ng-bind-html="section.copy" class="body-content link-highlight-hover-border"></div>

                <a ng-if="section.ticketsLink" href="{{section.ticketsLink}}" target="_blank" class="button">Get tickets</a>

                <div class="link-highlight-hover-border venue-link">
                  <a ng-if="section.venueLink" href="{{section.venueLink}}" target="_blank">Venue</a>
                </div>
              </div>

              <div ng-if="section.imgUrl" class="col-img">
                <img ng-src="./images/{{section.imgUrl}}" alt="Fiona Ross | {{section.imgAlt}}" style="max-width: {{section.imgMaxWidth}}px" />
              </div>
            </div>

            <div ng-if="!section.imgUrl">
              <div ng-bind-html="section.copy" class="body-content link-highlight-hover-border"></div>
            
              <a ng-if="section.ticketsLink" href="{{section.ticketsLink}}" target="_blank" class="button">Get tickets</a>
            
              <div class="link-highlight-hover-border venue-link">
                <a ng-if="section.venueLink" href="{{section.venueLink}}" target="_blank">Venue</a>
              </div>

              <div ng-if="section.images" class="col-images">
                <ul>
                  <li ng-repeat="image in section.images" class="col-img">
                    <img ng-src="./images/{{image.imgUrl}}" alt="Fiona Ross | {{image.imgAlt}}"/>
                  </li>
                </ul>
              </div>
            </div>

            <div ng-if="section.videoEmbed">
              <iframe width="600" height="400" ng-src="{{vm.trustSrc(section.videoEmbed)}}" frameborder="0" allowfullscreen></iframe>
            </div>

          </li>
        </ul>

        <div ng-if="!post.isMonthlyUpdate">

          <div ng-bind-html="post.bodyMain" class="body-content link-highlight-hover-border"></div>

          <a ng-if="post.ticketsLink" 
            href="{{post.ticketsLink}}" 
            target="_blank" 
            class="button">Get tickets</a>

          <div class="link-highlight-hover-border venue-link">
            <a ng-if="post.venueLink" 
              href="{{post.venueLink}}" 
              target="_blank">Venue</a>
          </div>
        </div>

        <br/>

        <div ng-bind-html="post.bodyMainFooter" 
             class="body-content body-content-footer link-highlight-hover-border"></div>

        <br/>

        <div ng-if="post.videoEmbed && !post.galleryImages" class="video-wrapper">
          <iframe width="560" ng-src="{{vm.trustSrc(post.videoEmbed)}}" frameborder="0" allowfullscreen></iframe>
        </div>
        <div ng-if="post.videoEmbedLondonLive" class="video-wrapper">
          <iframe width="620" height="348" src="http://www.londonlive.co.uk/embed/news/2018-03-27/celebrity-music-trainer-is-now-releasing-her-own-music" frameborder="0" allowfullscreen></iframe>
        </div>

        <div ng-if="post.videoEmbed && post.galleryImages" class="row video-with-gallery-row">
          <div class="row post-video">
            <div class="video-wrapper">
              <iframe width="560" ng-src="{{vm.trustSrc(post.videoEmbed)}}" frameborder="0" allowfullscreen></iframe>
            </div>
          </div>
          <ul class="row post-gallery">
            <li ng-repeat="image in post.galleryImages" class="post-gallery-image">
              <a ng-click="vm.openLightboxModal(post.galleryImages, $index)">
                <img ng-src="./images/{{image.thumbUrl}}" alt="Fiona Ross | {{post.title}}" />
              </a>
            </li>
          </ul>
        </div>

        <div ng-if="!post.videoEmbed && post.galleryImages" class="row video-with-gallery-row">
          <ul class="row post-gallery">
            <li ng-repeat="image in post.galleryImages" class="post-gallery-image">
              <a ng-click="vm.openLightboxModal(post.galleryImages, $index)">
                <img ng-src="./images/{{image.thumbUrl}}" alt="Fiona Ross | {{post.title}}" />
              </a>
            </li>
          </ul>
        </div>

        <div class="row social-share">
          <p>Share on</p>
          <ul>
            <li class="first">
              <a href="#"
                  socialshare
                  socialshare-provider="facebook"
                  socialshare-title="Fiona Ross | {{post.title}}"
                  socialshare-hashtags="{{post.socialShare.hashtags}}"
                  socialshare-media="{{post.socialShare.shareUrl || 'http://fionaross.co.uk'}}">
                  <i class="icon-s-f"></i>
                  <span>Facebook</span>
              </a>
            </li>
            <li class="last">
              <a href="#"
                  socialshare
                  socialshare-provider="twitter"
                  socialshare-text="Fiona Ross | {{post.title}}"
                  socialshare-hashtags="{{post.socialShare.hashtags}}"
                  socialshare-url="{{post.socialShare.shareUrl || 'http://fionaross.co.uk'}}">
                  <i class="icon-s-t"></i>
                  <span>Twitter</span>
              </a>
            </li>
          </ul>
        </div>

      </li>
    </ul>

    <div class="row button-view-nav">
      <a ui-sref="videos" class="button">
        <span>Videos</span>
        <i class="icon-arrow-right"></i>
      </a>
    </div>


  </div>
</section>
